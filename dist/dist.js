(function(t,e){for(var n in e)t[n]=e[n]})(exports,function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=6)}([function(e,t){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var o=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a={type:'logger',log:function(e){this._output('log',e)},warn:function(e){this._output('warn',e)},error:function(e){this._output('error',e)},_output:function(e,t){console&&console[e]&&console[e].apply(console,Array.prototype.slice.call(t))}},r=function(){function e(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.subs=[],this.init(t,o)}return e.prototype.init=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||'i18next:',this.logger=e||a,this.options=t,this.debug=!1!==t.debug},e.prototype.setDebug=function(e){this.debug=e,this.subs.forEach(function(t){t.setDebug(e)})},e.prototype.log=function(){this.forward(arguments,'log','',!0)},e.prototype.warn=function(){this.forward(arguments,'warn','',!0)},e.prototype.error=function(){this.forward(arguments,'error','')},e.prototype.deprecate=function(){this.forward(arguments,'warn','WARNING DEPRECATED: ',!0)},e.prototype.forward=function(e,t,n,o){o&&!this.debug||('string'==typeof e[0]&&(e[0]=n+this.prefix+' '+e[0]),this.logger[t](e))},e.prototype.create=function(t){var n=new e(this.logger,o({prefix:this.prefix+':'+t+':'},this.options));return this.subs.push(n),n},e}();t.default=new r},function(e,t){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var o=function(){function e(){n(this,e),this.observers={}}return e.prototype.on=function(e,t){var n=this;e.split(' ').forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach(function(){if(!t)delete n.observers[e];else{var o=n.observers[e].indexOf(t);-1<o&&n.observers[e].splice(o,1)}})},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.observers[e]&&this.observers[e].forEach(function(e){e.apply(void 0,n)}),this.observers['*']&&this.observers['*'].forEach(function(t){var o;t.apply(t,(o=[e]).concat.apply(o,n))})},e}();t.default=o},function(e,t){'use strict';function n(e,t,n){function o(e){return e&&-1<e.indexOf('###')?e.replace(/###/g,'.'):e}for(var a='string'==typeof t?t.split('.'):[].concat(t);1<a.length;){if(!e)return{};var r=o(a.shift());!e[r]&&n&&(e[r]=new n),e=e[r]}return e?{obj:e,k:o(a.shift())}:{}}function o(e,t,n){for(var a in t)a in e?'string'==typeof e[a]||e[a]instanceof String||'string'==typeof t[a]||t[a]instanceof String?n&&(e[a]=t[a]):o(e[a],t[a],n):e[a]=t[a];return e}Object.defineProperty(t,'__esModule',{value:!0}),t.makeString=function(e){return null==e?'':''+e},t.copy=function(e,n,o){e.forEach(function(e){n[e]&&(o[e]=n[e])})},t.setPath=function(e,t,o){var a=n(e,t,Object),r=a.obj,s=a.k;r[s]=o},t.pushPath=function(e,t,o,a){var r=n(e,t,Object),s=r.obj,i=r.k;s[i]=s[i]||[],a&&(s[i]=s[i].concat(o)),a||s[i].push(o)},t.getPath=function(e,t){var o=n(e,t),a=o.obj,r=o.k;return a?a[r]:void 0},t.deepExtend=o,t.regexEscape=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,'\\$&')},t.escape=function(e){return'string'==typeof e?e.replace(/[&<>"'\/]/g,function(e){return a[e]}):e};var a={"&":'&amp;',"<":'&lt;',">":'&gt;','"':'&quot;',"'":'&#39;',"/":'&#x2F;'}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,a){var r=this;return e.forEach(function(e){r.processors[e]&&(t=r.processors[e].process(t,n,o,a))}),t}}},function(e,t,n){'use strict';function o(e){return e.interpolation={unescapeSuffix:'HTML'},e.interpolation.prefix=e.interpolationPrefix||'__',e.interpolation.suffix=e.interpolationSuffix||'__',e.interpolation.escapeValue=e.escapeInterpolation||!1,e.interpolation.nestingPrefix=e.reusePrefix||'$t(',e.interpolation.nestingSuffix=e.reuseSuffix||')',e}Object.defineProperty(t,'__esModule',{value:!0}),t.convertAPIOptions=function(e){return e.resStore&&(e.resources=e.resStore),e.ns&&e.ns.defaultNs?(e.defaultNS=e.ns.defaultNs,e.ns=e.ns.namespaces):e.defaultNS=e.ns||'translation',e.fallbackToDefaultNS&&e.defaultNS&&(e.fallbackNS=e.defaultNS),e.saveMissing=e.sendMissing,e.saveMissingTo=e.sendMissingTo||'current',e.returnNull=!e.fallbackOnNull,e.returnEmptyString=!e.fallbackOnEmpty,e.returnObjects=e.returnObjectTrees,e.joinArrays='\n',e.returnedObjectHandler=e.objectTreeKeyHandler,e.parseMissingKeyHandler=e.parseMissingKey,e.appendNamespaceToMissingKey=!0,e.nsSeparator=e.nsseparator,e.keySeparator=e.keyseparator,'sprintf'===e.shortcutFunction&&(e.overloadTranslationOptionHandler=function(e){for(var t=[],n=1;n<e.length;n++)t.push(e[n]);return{postProcess:'sprintf',sprintf:t}}),e.whitelist=e.lngWhitelist,e.preload=e.preload,'current'===e.load&&(e.load='currentOnly'),'unspecific'===e.load&&(e.load='languageOnly'),e.backend=e.backend||{},e.backend.loadPath=e.resGetPath||'locales/__lng__/__ns__.json',e.backend.addPath=e.resPostPath||'locales/add/__lng__/__ns__',e.backend.allowMultiLoading=e.dynamicLoad,e.cache=e.cache||{},e.cache.prefix='res_',e.cache.expirationTime=604800000,e.cache.enabled=!!e.useLocalStorage,e=o(e),e.defaultVariables&&(e.interpolation.defaultVariables=e.defaultVariables),e},t.convertJSONOptions=function(e){return e=o(e),e.joinArrays='\n',e},t.convertTOptions=function(e){return(e.interpolationPrefix||e.interpolationSuffix||e.escapeInterpolation)&&(e=o(e)),e.nsSeparator=e.nsseparator,e.keySeparator=e.keyseparator,e.returnObjects=e.returnObjectTrees,e},t.appendBackwardsAPI=function(e){e.lng=function(){return r.default.deprecate('i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup.'),e.services.languageUtils.toResolveHierarchy(e.language)[0]},e.preload=function(t,n){r.default.deprecate('i18next.preload() can be replaced with i18next.loadLanguages()'),e.loadLanguages(t,n)},e.setLng=function(t,n,o){return r.default.deprecate('i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace.'),'function'==typeof n&&(o=n,n={}),n||(n={}),!0===n.fixLng&&o?o(null,e.getFixedT(t)):void e.changeLanguage(t,o)},e.addPostProcessor=function(t,n){r.default.deprecate('i18next.addPostProcessor() can be replaced by i18next.use({ type: \'postProcessor\', name: \'name\', process: fc })'),e.use({type:'postProcessor',name:t,process:n})}};var a=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,n){'use strict';function o(e){return!Object.keys(e).length}var a,r=n(25);e.exports=function(){return{get:function(e,t,n){e||n('DynamoDB Table name is not set.',null),a||(a=new r.DynamoDB.DocumentClient({apiVersion:'2012-08-10'}));a.get({Key:{userId:t},TableName:e,ConsistentRead:!0},function(t,a){if(!t)o(a)?n(null,{}):n(null,a.Item.mapAttr);else if(console.log('get error: '+JSON.stringify(t,null,4)),'ResourceNotFoundException'===t.code){var i=new r.DynamoDB;s.TableName=e,i.createTable(s,function(t,o){t&&console.log('Error creating table: '+JSON.stringify(t,null,4)),console.log('Creating table '+e+':\n'+JSON.stringify(o)),n(t,{})})}else n(t,null)})},set:function(e,t,n,o){e||o('DynamoDB Table name is not set.',null),a||(a=new r.DynamoDB.DocumentClient({apiVersion:'2012-08-10'}));a.put({Item:{userId:t,mapAttr:n},TableName:e},function(e,t){e&&console.log('Error during DynamoDB put:'+e),o(e,t)})}}}();var s={AttributeDefinitions:[{AttributeName:'userId',AttributeType:'S'}],KeySchema:[{AttributeName:'userId',KeyType:'HASH'}],ProvisionedThroughput:{ReadCapacityUnits:5,WriteCapacityUnits:5}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(7);t.handle=function(e,t){var n=o.handler(e,t);n.registerHandlers(r),n.execute()};var r={LaunchRequest:function(){this.emit('HelloWorldIntent')},getRandomInt:function(){this.emit(':tell','Hello World from Alexa!')}}},function(e,t,n){var o=n(8);e.exports.handler=o.LambdaHandler,e.exports.CreateStateHandler=o.CreateStateHandler,e.exports.StateString=o.StateString},function(e,t,n){'use strict';function o(){g.call(this)}function a(){this.locale=this._event.request.locale,this.resources?this.i18n.use(m).init({overloadTranslationOptionHandler:m.overloadTranslationOptionHandler,returnObjects:!0,lng:this.locale,resources:this.resources},(e)=>{if(e)throw new Error('Error initializing i18next: '+e);r.call(this)}):r.call(this)}function r(){var e=this._event,t=this._context,n=this._callback,o=this.appId,a='',r='';e.context?(a=e.context.System.application.applicationId,r=e.context.System.user.userId):e.session&&(a=e.session.application.applicationId,r=e.session.user.userId),o||console.log('Warning: Application ID is not set');try{if(o&&a!==o){console.log(`The applicationIds don\'t match: ${a} and ${o}`);var i=new Error('Invalid ApplicationId: '+o);return'undefined'==typeof n?t.fail(i):n(i)}this.dynamoDBTableName&&(!e.session.sessionId||e.session['new'])?h.get(this.dynamoDBTableName,r,(e,o)=>{if(e){var a=new Error('Error fetching user state: '+e);return'undefined'==typeof n?t.fail(a):n(a)}Object.assign(this._event.session.attributes,o),s.call(this)}):s.call(this)}catch(o){return console.log(`Unexpected exception '${o}':\n${o.stack}`),'undefined'==typeof n?t.fail(o):n(o)}}function s(){this.state=this._event.session.attributes[v]||'';var e='';if(this._event.session['new']&&1===this.listenerCount('NewSession'+this.state)?e='NewSession':'LaunchRequest'===this._event.request.type?e='LaunchRequest':'IntentRequest'===this._event.request.type?e=this._event.request.intent.name:'SessionEndedRequest'===this._event.request.type?e='SessionEndedRequest':'AudioPlayer'===this._event.request.type.substring(0,11)?e=this._event.request.type.substring(12):'PlaybackController'===this._event.request.type.substring(0,18)&&(e=this._event.request.type.substring(19)),e+=this.state,1>this.listenerCount(e)&&(e='Unhandled'+this.state),1>this.listenerCount(e))throw new Error(`No 'Unhandled' function defined for event: ${e}`);this.emit(e)}function i(){for(var e,t=0;t<arguments.length;t++){if(e=arguments[t],!l(e))throw new Error(`Argument #${t} was not an Object`);for(var n=Object.keys(e),o=0;o<n.length;o++){if('function'!=typeof e[n[o]])throw new Error(`Event handler for '${n[o]}' was not a function`);var a=n[o];e[v]&&(a+=e[v]);var r=function(){return this.i18n.t.apply(this.i18n,arguments)},s={on:this.on.bind(this),emit:this.emit.bind(this),emitWithState:c.bind(this),state:this.state,handler:this,i18n:this.i18n,locale:this.locale,t:r,event:this._event,attributes:this._event.session.attributes,context:this._context,callback:this._callback,name:a,isOverridden:p.bind(this,a),response:d(this)};this.on(a,e[n[o]].bind(s))}}}function l(e){return!!e&&e.constructor===Object}function p(e){return 1<this.listenerCount(e)}function d(e){var t=e.response;return t.version='1.0',t.response={shouldEndSession:!0},t.sessionAttributes=e._event.session.attributes,function(){return{speak:function(e){return t.response.outputSpeech=u(e),this},listen:function(e){return t.response.reprompt={outputSpeech:u(e)},t.response.shouldEndSession=!1,this},cardRenderer:function(e,n,o){var a={type:'Simple',title:e,content:n};return o&&(o.smallImageUrl||o.largeImageUrl)&&(a.type='Standard',a.image={},delete a.content,a.text=n,o.smallImageUrl&&(a.image.smallImageUrl=o.smallImageUrl),o.largeImageUrl&&(a.image.largeImageUrl=o.largeImageUrl)),t.response.card=a,this},linkAccountCard:function(){return t.response.card={type:'LinkAccount'},this},audioPlayer:function(e,n,o,a,r,s){var i;return i='play'===e?{type:'AudioPlayer.Play',playBehavior:n,audioItem:{stream:{url:o,token:a,expectedPreviousToken:r,offsetInMilliseconds:s}}}:'stop'===e?{type:'AudioPlayer.Stop'}:{type:'AudioPlayer.ClearQueue',clearBehavior:n},t.response.directives=[i],this},audioPlayerPlay:function(e,n,o,a,r){return t.response.directives=[{type:'AudioPlayer.Play',playBehavior:e,audioItem:{stream:{url:n,token:o,expectedPreviousToken:a,offsetInMilliseconds:r}}}],this},audioPlayerStop:function(){return t.response.directives=[{type:'AudioPlayer.Stop'}],this},audioPlayerClearQueue:function(e){return t.response.directives=[{type:'AudioPlayer.ClearQueue',clearBehavior:e}],this}}}()}function u(e){return{type:'SSML',ssml:`<speak> ${e} </speak>`}}function c(){if(0===arguments.length)throw new Error('EmitWithState called without arguments');if(arguments[0]+=this.state,1>this.listenerCount(arguments[0])&&(arguments[0]='Unhandled'+this.state),1>this.listenerCount(arguments[0]))throw new Error(`No 'Unhandled' function defined for event: ${arguments[0]}`);this.emit.apply(this,arguments)}var g=n(9).EventEmitter,f=n(10),y=n(11),m=n(22),h=n(5),b=n(26),v='STATE';f.inherits(o,g),process.on('uncaughtException',function(e){throw console.log(`Uncaught exception: ${e}\n${e.stack}`),e}),e.exports.LambdaHandler=function(e,t,n){e.session?!e.session.attributes&&(e.session.attributes={}):e.session={attributes:{}};var r=new o;return r.setMaxListeners(Infinity),Object.defineProperty(r,'_event',{value:e,writable:!1}),Object.defineProperty(r,'_context',{value:t,writable:!1}),Object.defineProperty(r,'_callback',{value:n,writable:!1}),Object.defineProperty(r,'state',{value:null,writable:!0,configurable:!0}),Object.defineProperty(r,'appId',{value:null,writable:!0}),Object.defineProperty(r,'response',{value:{},writable:!0}),Object.defineProperty(r,'dynamoDBTableName',{value:null,writable:!0}),Object.defineProperty(r,'saveBeforeResponse',{value:!1,writable:!0}),Object.defineProperty(r,'i18n',{value:y,writable:!0}),Object.defineProperty(r,'locale',{value:void 0,writable:!0}),Object.defineProperty(r,'resources',{value:void 0,writable:!0}),Object.defineProperty(r,'registerHandlers',{value:function(){i.apply(r,arguments)},writable:!1}),Object.defineProperty(r,'execute',{value:function(){a.call(r)},writable:!1}),r.registerHandlers(b),r},e.exports.CreateStateHandler=function(e,t){return t||(t={}),Object.defineProperty(t,v,{value:e||''}),t},e.exports.StateString=v},function(e){e.exports=require('events')},function(e){e.exports=require('util')},function(e,t,n){e.exports=n(12).default},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(13),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=a.default},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var a=n[o],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&e[a]===void 0&&Object.defineProperty(e,a,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,'__esModule',{value:!0});var l='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},p=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d=n(0),u=o(d),c=n(1),g=o(c),f=n(14),y=o(f),m=n(15),h=o(m),b=n(16),v=o(b),x=n(17),k=o(x),S=n(18),P=o(S),_=n(19),O=o(_),C=n(20),w=o(C),L=n(21),E=n(3),N=o(E),R=n(4),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(R),A=function(e){function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];r(this,t);var a=s(this,e.call(this));return a.options=(0,L.transformOptions)(n),a.services={},a.logger=u.default,a.modules={},o&&!a.isInitialized&&a.init(n,o),a}return i(t,e),t.prototype.init=function(e,n){function t(e){return e?'function'==typeof e?new e:e:void 0}var o=this;if('function'==typeof e&&(n=e,e={}),e||(e={}),this.options='v1'===e.compatibilityAPI?p({},(0,L.get)(),(0,L.transformOptions)(I.convertAPIOptions(e)),{}):'v1'===e.compatibilityJSON?p({},(0,L.get)(),(0,L.transformOptions)(I.convertJSONOptions(e)),{}):p({},(0,L.get)(),this.options,(0,L.transformOptions)(e)),n||(n=function(){}),!this.options.isClone){this.modules.logger?u.default.init(t(this.modules.logger),this.options):u.default.init(null,this.options);var a=new v.default(this.options);this.store=new y.default(this.options.resources,this.options);var r=this.services;r.logger=u.default,r.resourceStore=this.store,r.resourceStore.on('added removed',function(){r.cacheConnector.save()}),r.languageUtils=a,r.pluralResolver=new k.default(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON}),r.interpolator=new P.default(this.options),r.backendConnector=new O.default(t(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on('*',function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];o.emit.apply(o,[e].concat(n))}),r.backendConnector.on('loaded',function(){r.cacheConnector.save()}),r.cacheConnector=new w.default(t(this.modules.cache),r.resourceStore,r,this.options),r.cacheConnector.on('*',function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];o.emit.apply(o,[e].concat(n))}),this.modules.languageDetector&&(r.languageDetector=t(this.modules.languageDetector),r.languageDetector.init(r,this.options.detection,this.options)),this.translator=new h.default(this.services,this.options),this.translator.on('*',function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];o.emit.apply(o,[e].concat(n))})}['getResource','addResource','addResources','addResourceBundle','removeResourceBundle','hasResourceBundle','getResourceBundle'].forEach(function(e){o[e]=function(){return this.store[e].apply(this.store,arguments)}}),'v1'===this.options.compatibilityAPI&&I.appendBackwardsAPI(this);var s=function(){o.changeLanguage(o.options.lng,function(e,a){o.emit('initialized',o.options),o.logger.log('initialized',o.options),n(e,a)})};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),this},t.prototype.loadResources=function(e){var t=this;if(e||(e=function(){}),!this.options.resources){var n=function(){if(t.language&&'cimode'===t.language.toLowerCase())return{v:e()};var n=[],o=function(e){var o=t.services.languageUtils.toResolveHierarchy(e);o.forEach(function(e){0>n.indexOf(e)&&n.push(e)})};o(t.language),t.options.preload&&t.options.preload.forEach(function(e){o(e)}),t.services.cacheConnector.load(n,t.options.ns,function(){t.services.backendConnector.load(n,t.options.ns,e)})}();if('object'===('undefined'==typeof n?'undefined':l(n)))return n.v}else e(null)},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return'backend'===e.type&&(this.modules.backend=e),'cache'===e.type&&(this.modules.cache=e),('logger'===e.type||e.log&&e.warn&&e.warn)&&(this.modules.logger=e),'languageDetector'===e.type&&(this.modules.languageDetector=e),'postProcessor'===e.type&&N.default.addPostProcessor(e),this},t.prototype.changeLanguage=function(e,t){var n=this,o=function(o){e&&(n.emit('languageChanged',e),n.logger.log('languageChanged',e)),t&&t(o,function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.t.apply(n,t)})};!e&&this.services.languageDetector&&(e=this.services.languageDetector.detect()),e&&(this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.translator.changeLanguage(e),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(e)),this.loadResources(function(e){o(e)})},t.prototype.getFixedT=function(e,t){var n=this,o=function e(t,o){return o=o||{},o.lng=o.lng||e.lng,o.ns=o.ns||e.ns,n.t(t,o)};return o.lng=e,o.ns=t,o},t.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},t.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var o=this;return this.options.ns?void('string'==typeof e&&(e=[e]),e.forEach(function(e){0>o.options.ns.indexOf(e)&&o.options.ns.push(e)}),this.loadResources(t)):t&&t()},t.prototype.loadLanguages=function(e,t){'string'==typeof e&&(e=[e]);var n=this.options.preload||[],o=e.filter(function(e){return 0>n.indexOf(e)});return o.length?void(this.options.preload=n.concat(o),this.loadResources(t)):t()},t.prototype.dir=function(e){if(e||(e=this.language),!e)return'rtl';return 0<=['ar','shu','sqr','ssh','xaa','yhd','yud','aao','abh','abv','acm','acq','acw','acx','acy','adf','ads','aeb','aec','afb','ajp','apc','apd','arb','arq','ars','ary','arz','auz','avl','ayh','ayl','ayn','ayp','bbz','pga','he','iw','ps','pbt','pbu','pst','prp','prd','ur','ydd','yds','yih','ji','yi','hbo','men','xmn','fa','jpr','peo','pes','prs','dv','sam'].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))?'rtl':'ltr'},t.prototype.createInstance=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return new t(e,n)},t.prototype.cloneInstance=function(){var e=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1],a=new t(p({},n,this.options,{isClone:!0}),o);return['store','services','language'].forEach(function(t){a[t]=e[t]}),a.translator=new h.default(a.services,a.options),a.translator.on('*',function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];a.emit.apply(a,[e].concat(n))}),a},t}(g.default);t.default=new A},function(e,t,n){'use strict';function o(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var a=n[o],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&e[a]===void 0&&Object.defineProperty(e,a,r)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function s(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,'__esModule',{value:!0});var i=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l=n(1),p=function(e){return e&&e.__esModule?e:{default:e}}(l),d=n(2),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),c=function(e){function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:['translation'],defaultNS:'translation'};a(this,t);var s=r(this,e.call(this));return s.data=n,s.options=o,s}return s(t,e),t.prototype.addNamespaces=function(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);-1<t&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=o.keySeparator||this.options.keySeparator;void 0===a&&(a='.');var r=[e,t];return n&&'string'!=typeof n&&(r=r.concat(n)),n&&'string'==typeof n&&(r=r.concat(a?n.split(a):n)),-1<e.indexOf('.')&&(r=e.split('.')),u.getPath(this.data,r)},t.prototype.addResource=function(e,t,n,o){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r='.');var s=[e,t];n&&(s=s.concat(r?n.split(r):n)),-1<e.indexOf('.')&&(s=e.split('.'),o=t,t=s[1]),this.addNamespaces(t),u.setPath(this.data,s,o),a.silent||this.emit('added',e,t,n,o)},t.prototype.addResources=function(e,t,n){for(var o in n)'string'==typeof n[o]&&this.addResource(e,t,o,n[o],{silent:!0});this.emit('added',e,t,n)},t.prototype.addResourceBundle=function(e,t,n,o,a){var r=[e,t];-1<e.indexOf('.')&&(r=e.split('.'),o=n,n=t,t=r[1]),this.addNamespaces(t);var s=u.getPath(this.data,r)||{};o?u.deepExtend(s,n,a):s=i({},s,n),u.setPath(this.data,r,s),this.emit('added',e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit('removed',e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),'v1'===this.options.compatibilityAPI?i({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(p.default);t.default=c},function(e,t,n){'use strict';function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var a=n[o],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&e[a]===void 0&&Object.defineProperty(e,a,r)}return e}function s(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,'__esModule',{value:!0});var p=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},u=n(0),c=a(u),g=n(1),f=a(g),y=n(3),m=a(y),h=n(4),b=o(h),v=n(2),x=o(v),k=function(e){function t(n){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,t);var a=i(this,e.call(this));return x.copy(['resourceStore','languageUtils','pluralResolver','interpolator','backendConnector'],n,a),a.options=o,a.logger=c.default.create('translator'),a}return l(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};return'v1'===this.options.compatibilityAPI&&(t=b.convertTOptions(t)),void 0!==this.resolve(e,t)},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=':');var o=t.ns||this.options.defaultNS;if(n&&-1<e.indexOf(n)){var a=e.split(n);o=a[0],e=a[1]}return'string'==typeof o&&(o=[o]),{key:e,namespaces:o}},t.prototype.translate=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if('object'===('undefined'==typeof t?'undefined':d(t))?'v1'===this.options.compatibilityAPI&&(t=b.convertTOptions(t)):t=this.options.overloadTranslationOptionHandler(arguments),void 0===e||null===e||''===e)return'';'number'==typeof e&&(e+=''),'string'==typeof e&&(e=[e]);var n=t.lng||this.language;if(n&&'cimode'===n.toLowerCase())return e[e.length-1];var o=t.keySeparator||this.options.keySeparator||'.',a=this.extractFromKey(e[e.length-1],t),r=a.key,s=a.namespaces,l=s[s.length-1],u=this.resolve(e,t),c=Object.prototype.toString.apply(u),g=void 0===t.joinArrays?this.options.joinArrays:t.joinArrays;if(u&&'string'!=typeof u&&0>['[object Number]','[object Function]','[object RegExp]'].indexOf(c)&&!(g&&'[object Array]'===c)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn('accessing an object - but returnObjects options is not enabled!'),this.options.returnedObjectHandler?this.options.returnedObjectHandler(r,u,t):'key \''+r+' ('+this.language+')\' returned an object instead of string.';var f='[object Array]'===c?[]:{};for(var y in u)f[y]=this.translate(''+r+o+y,p({joinArrays:!1,ns:s},t));u=f}else if(g&&'[object Array]'===c)u=u.join(g),u&&(u=this.extendTranslation(u,r,t));else{var m=!1,h=!1;if(this.isValidLookup(u)||void 0===t.defaultValue||(m=!0,u=t.defaultValue),this.isValidLookup(u)||(h=!0,u=r),h||m){this.logger.log('missingKey',n,l,r,u);var v=[],x=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if('fallback'===this.options.saveMissingTo&&x&&x[0])for(var k=0;k<x.length;k++)v.push(x[k]);else'all'===this.options.saveMissingTo?v=this.languageUtils.toResolveHierarchy(t.lng||this.language):v.push(t.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(v,l,r,u):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(v,l,r,u)),this.emit('missingKey',v,l,r,u)}u=this.extendTranslation(u,r,t),h&&u===r&&this.options.appendNamespaceToMissingKey&&(u=l+':'+r),h&&this.options.parseMissingKeyHandler&&(u=this.options.parseMissingKeyHandler(u))}return u},t.prototype.extendTranslation=function(e,t,n){var o=this;n.interpolation&&this.interpolator.init(p({},n,{interpolation:p({},this.options.interpolation,n.interpolation)}));var a=n.replace&&'string'!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(a=p({},this.options.interpolation.defaultVariables,a)),e=this.interpolator.interpolate(e,a,this.language),e=this.interpolator.nest(e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.translate.apply(o,t)},n),n.interpolation&&this.interpolator.reset();var r=n.postProcess||this.options.postProcess,s='string'==typeof r?[r]:r;return void 0!==e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=m.default.handle(s,e,t,n,this)),e},t.prototype.resolve=function(e){var t,n=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return'string'==typeof e&&(e=[e]),e.forEach(function(e){if(!n.isValidLookup(t)){var a=n.extractFromKey(e,o),r=a.key,s=a.namespaces;n.options.fallbackNS&&(s=s.concat(n.options.fallbackNS));var i=void 0!==o.count&&'string'!=typeof o.count,l=void 0!==o.context&&'string'==typeof o.context&&''!==o.context,p=o.lngs?o.lngs:n.languageUtils.toResolveHierarchy(o.lng||n.language);s.forEach(function(e){n.isValidLookup(t)||p.forEach(function(a){if(!n.isValidLookup(t)){var s,p=r,d=[p];i&&(s=n.pluralResolver.getSuffix(a,o.count)),i&&l&&d.push(p+s),l&&d.push(p+=''+n.options.contextSeparator+o.context),i&&d.push(p+=s);for(var u;u=d.pop();)n.isValidLookup(t)||(t=n.getResource(a,e,u,o))}})})}}),t},t.prototype.isValidLookup=function(e){return void 0!==e&&(this.options.returnNull||null!==e)&&(this.options.returnEmptyString||''!==e)},t.prototype.getResource=function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(e,t,n,o)},t}(f.default);t.default=k},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(t,'__esModule',{value:!0});var r=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t){o(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=s.default.create('languageUtils')}return e.prototype.getLanguagePartFromCode=function(e){if(0>e.indexOf('-'))return e;var t=e.split('-');return this.formatLanguageCode(-1<['NB-NO','NN-NO','nb-NO','nn-NO','nb-no','nn-no'].indexOf(e)?t[1].toLowerCase():t[0])},e.prototype.getScriptPartFromCode=function(e){if(0>e.indexOf('-'))return null;var t=e.split('-');return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join('-')))},e.prototype.getLanguagePartFromCode=function(e){if(0>e.indexOf('-'))return e;var t=e.split('-');return this.formatLanguageCode(-1<['NB-NO','NN-NO','nb-NO','nn-NO','nb-no','nn-no'].indexOf(e)?t[1].toLowerCase():t[0])},e.prototype.formatLanguageCode=function(e){if('string'==typeof e&&-1<e.indexOf('-')){var t=['hans','hant','latn','cyrl','cans','mong','arab'],n=e.split('-');return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),-1<t.indexOf(n[1].toLowerCase())&&(n[1]=a(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),'sgn'!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),-1<t.indexOf(n[1].toLowerCase())&&(n[1]=a(n[1].toLowerCase())),-1<t.indexOf(n[2].toLowerCase())&&(n[2]=a(n[2].toLowerCase()))),n.join('-')}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e,t){return('languageOnly'===this.options.load||this.options.nonExplicitWhitelist&&!t)&&(e=this.getLanguagePartFromCode(e)),this.whitelist&&this.whitelist.length&&!(-1<this.whitelist.indexOf(e))?!1:!0},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if('string'==typeof e&&(e=[e]),'[object Array]'===Object.prototype.toString.apply(e))return e;var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,o=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],r=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e&&(n.isWhitelisted(e,t)?a.push(e):n.logger.warn('rejecting non-whitelisted language code: '+e))};return'string'==typeof e&&-1<e.indexOf('-')?('languageOnly'!==this.options.load&&r(this.formatLanguageCode(e),!0),'languageOnly'!==this.options.load&&'currentOnly'!==this.options.load&&r(this.getScriptPartFromCode(e),!0),'currentOnly'!==this.options.load&&r(this.getLanguagePartFromCode(e))):'string'==typeof e&&r(this.formatLanguageCode(e)),o.forEach(function(e){0>a.indexOf(e)&&r(n.formatLanguageCode(e))}),a},e}();t.default=i},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(){var e={};return l.forEach(function(t){t.lngs.forEach(function(n){return e[n]={numbers:t.nr,plurals:p[t.fc]}})}),e}Object.defineProperty(t,'__esModule',{value:!0});var r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},s=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(s),l=[{lngs:['ach','ak','am','arn','br','fil','gun','ln','mfe','mg','mi','oc','tg','ti','tr','uz','wa'],nr:[1,2],fc:1},{lngs:['af','an','ast','az','bg','bn','ca','da','de','dev','el','en','eo','es','es_ar','et','eu','fi','fo','fur','fy','gl','gu','ha','he','hi','hu','hy','ia','it','kn','ku','lb','mai','ml','mn','mr','nah','nap','nb','ne','nl','nn','no','nso','pa','pap','pms','ps','pt','pt_br','rm','sco','se','si','so','son','sq','sv','sw','ta','te','tk','ur','yo'],nr:[1,2],fc:2},{lngs:['ay','bo','cgg','fa','id','ja','jbo','ka','kk','km','ko','ky','lo','ms','sah','su','th','tt','ug','vi','wo','zh'],nr:[1],fc:3},{lngs:['be','bs','dz','hr','ru','sr','uk'],nr:[1,2,5],fc:4},{lngs:['ar'],nr:[0,1,2,3,11,100],fc:5},{lngs:['cs','sk'],nr:[1,2,5],fc:6},{lngs:['csb','pl'],nr:[1,2,5],fc:7},{lngs:['cy'],nr:[1,2,3,8],fc:8},{lngs:['fr'],nr:[1,2],fc:9},{lngs:['ga'],nr:[1,2,3,7,11],fc:10},{lngs:['gd'],nr:[1,2,3,20],fc:11},{lngs:['is'],nr:[1,2],fc:12},{lngs:['jv'],nr:[0,1],fc:13},{lngs:['kw'],nr:[1,2,3,4],fc:14},{lngs:['lt'],nr:[1,2,10],fc:15},{lngs:['lv'],nr:[1,2,0],fc:16},{lngs:['mk'],nr:[1,2],fc:17},{lngs:['mnk'],nr:[0,1,2],fc:18},{lngs:['mt'],nr:[1,2,11,20],fc:19},{lngs:['or'],nr:[2,1],fc:2},{lngs:['ro'],nr:[1,2,20],fc:20},{lngs:['sl'],nr:[5,1,2,3],fc:21}],p={1:function(e){return+(1<e)},2:function(e){return+(1!=e)},3:function(){return 0},4:function(e){return+(1==e%10&&11!=e%100?0:2<=e%10&&4>=e%10&&(10>e%100||20<=e%100)?1:2)},5:function(e){return+(0===e?0:1==e?1:2==e?2:3<=e%100&&10>=e%100?3:11<=e%100?4:5)},6:function(e){return+(1==e?0:2<=e&&4>=e?1:2)},7:function(e){return+(1==e?0:2<=e%10&&4>=e%10&&(10>e%100||20<=e%100)?1:2)},8:function(e){return+(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return+(2<=e)},10:function(e){return+(1==e?0:2==e?1:7>e?2:11>e?3:4)},11:function(e){return+(1==e||11==e?0:2==e||12==e?1:2<e&&20>e?2:3)},12:function(e){return+(1!=e%10||11==e%100)},13:function(e){return+(0!==e)},14:function(e){return+(1==e?0:2==e?1:3==e?2:3)},15:function(e){return+(1==e%10&&11!=e%100?0:2<=e%10&&(10>e%100||20<=e%100)?1:2)},16:function(e){return+(1==e%10&&11!=e%100?0:0===e?2:1)},17:function(e){return+(1==e||1==e%10?0:1)},18:function(e){return+(0==e?0:1==e?1:2)},19:function(e){return+(1==e?0:0===e||1<e%100&&11>e%100?1:10<e%100&&20>e%100?2:3)},20:function(e){return+(1==e?0:0===e||0<e%100&&20>e%100?1:2)},21:function(e){return+(1==e%100?1:2==e%100?2:3==e%100||4==e%100?3:0)}},d=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.languageUtils=t,this.options=n,this.logger=i.default.create('pluralResolver'),this.rules=a()}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return t&&1>=t.numbers.length?!1:!0},e.prototype.getSuffix=function(e,t){var n=this,o=this.getRule(e);if(o){var a=function(){if(1===o.numbers.length)return{v:''};var e=o.noAbs?o.plurals(t):o.plurals(Math.abs(t)),a=o.numbers[e];2===o.numbers.length&&1===o.numbers[0]&&(2===a?a='plural':1===a&&(a=''));var r=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return'v1'===n.options.compatibilityJSON?1===a?{v:''}:'number'==typeof a?{v:'_plural_'+a.toString()}:{v:r()}:'v2'===n.options.compatibilityJSON||2===o.numbers.length&&1===o.numbers[0]?{v:r()}:2===o.numbers.length&&1===o.numbers[0]?{v:r()}:{v:n.options.prepend&&e.toString()?n.options.prepend+e.toString():e.toString()}}();if('object'===('undefined'==typeof a?'undefined':r(a)))return a.v}else return this.logger.warn('no plural rule found for: '+e),''},e}();t.default=d},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var a=n(2),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),s=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.logger=i.default.create('interpolator'),this.init(t,!0)}return e.prototype.init=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];t&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e}),e.interpolation||(e.interpolation={escapeValue:!0});var n=e.interpolation;this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.prefix=n.prefix?r.regexEscape(n.prefix):n.prefixEscaped||'{{',this.suffix=n.suffix?r.regexEscape(n.suffix):n.suffixEscaped||'}}',this.formatSeparator=n.formatSeparator?r.regexEscape(n.formatSeparator):n.formatSeparator||',',this.unescapePrefix=n.unescapeSuffix?'':n.unescapePrefix||'-',this.unescapeSuffix=this.unescapePrefix?'':n.unescapeSuffix||'',this.nestingPrefix=n.nestingPrefix?r.regexEscape(n.nestingPrefix):n.nestingPrefixEscaped||r.regexEscape('$t('),this.nestingSuffix=n.nestingSuffix?r.regexEscape(n.nestingSuffix):n.nestingSuffixEscaped||r.regexEscape(')'),this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var e=this.prefix+'(.+?)'+this.suffix;this.regexp=new RegExp(e,'g');var t=this.prefix+this.unescapePrefix+'(.+?)'+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,'g');var n=this.nestingPrefix+'(.+?)'+this.nestingSuffix;this.nestingRegexp=new RegExp(n,'g')},e.prototype.interpolate=function(e,t,n){function o(e){return e.replace(/\$/g,'$$$$')}var a,s,i=this,l=function(e){if(0>e.indexOf(i.formatSeparator))return r.getPath(t,e);var o=e.split(i.formatSeparator),a=o.shift().trim(),s=o.join(i.formatSeparator).trim();return i.format(r.getPath(t,a),s,n)};for(this.resetRegExp();a=this.regexpUnescape.exec(e);){var p=l(a[1].trim());e=e.replace(a[0],p),this.regexpUnescape.lastIndex=0}for(;a=this.regexp.exec(e);)s=l(a[1].trim()),'string'!=typeof s&&(s=r.makeString(s)),s||(this.logger.warn('missed to pass in variable '+a[1]+' for interpolating '+e),s=''),s=this.escapeValue?o(r.escape(s)):o(s),e=e.replace(a[0],s),this.regexp.lastIndex=0;return e},e.prototype.nest=function(e,t){function n(e){return e.replace(/\$/g,'$$$$')}function o(t){if(0>t.indexOf(','))return t;var e=t.split(',');t=e.shift();var n=e.join(',');n=this.interpolate(n,l);try{l=JSON.parse(n)}catch(n){this.logger.error('failed parsing options string in nesting for key '+t,n)}return t}var a,s,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},l=JSON.parse(JSON.stringify(i));for(l.applyPostProcessor=!1;a=this.nestingRegexp.exec(e);)s=t(o.call(this,a[1].trim()),l),'string'!=typeof s&&(s=r.makeString(s)),s||(this.logger.warn('missed to pass in variable '+a[1]+' for interpolating '+e),s=''),s=this.escapeValue?n(r.escape(s)):n(s),e=e.replace(a[0],s),this.regexp.lastIndex=0;return e},e}();t.default=l},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var a=n[o],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&e[a]===void 0&&Object.defineProperty(e,a,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}function l(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}Object.defineProperty(t,'__esModule',{value:!0});var p=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d=function(){function e(e,t){var n,o=[],a=!0,r=!1;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(o.push(s.value),!(t&&o.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&i['return']&&i['return']()}finally{if(r)throw n}}return o}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),u=n(2),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),g=n(0),f=o(g),y=n(1),m=o(y),h=function(e){function t(n,o,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};r(this,t);var l=s(this,e.call(this));return l.backend=n,l.store=o,l.services=a,l.options=i,l.logger=f.default.create('backendConnector'),l.state={},l.queue=[],l.backend&&l.backend.init&&l.backend.init(a,i.backend,i),l}return i(t,e),t.prototype.queueLoad=function(e,t,n){var o=this,a=[],r=[],s=[],i=[];return e.forEach(function(e){var n=!0;t.forEach(function(t){var s=e+'|'+t;o.store.hasResourceBundle(e,t)?o.state[s]=2:0>o.state[s]||(1===o.state[s]?0>r.indexOf(s)&&r.push(s):(o.state[s]=1,n=!1,0>r.indexOf(s)&&r.push(s),0>a.indexOf(s)&&a.push(s),0>i.indexOf(t)&&i.push(t)))}),n||s.push(e)}),(a.length||r.length)&&this.queue.push({pending:r,loaded:{},errors:[],callback:n}),{toLoad:a,pending:r,toLoadLanguages:s,toLoadNamespaces:i}},t.prototype.loaded=function(e,t,n){var o=this,a=e.split('|'),r=d(a,2),s=r[0],i=r[1];t&&this.emit('failedLoading',s,i,t),n&&this.store.addResourceBundle(s,i,n),this.state[e]=t?-1:2,this.queue.forEach(function(n){c.pushPath(n.loaded,[s],i),l(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(n.errors.length?n.callback(n.errors):n.callback(),o.emit('loaded',n.loaded),n.done=!0)}),this.queue=this.queue.filter(function(e){return!e.done})},t.prototype.read=function(e,t,n,o,a,r){var s=this;return o||(o=0),a||(a=250),e.length?void this.backend[n](e,t,function(i,l){return i&&l&&5>o?void setTimeout(function(){s.read.call(s,e,t,n,++o,2*a,r)},a):void r(i,l)}):r(null,{})},t.prototype.load=function(e,t,n){var o=this;if(!this.backend)return this.logger.warn('No backend was added via i18next.use. Will not load resources.'),n&&n();var a=p({},this.backend.options,this.options.backend);'string'==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),'string'==typeof t&&(t=[t]);var r=this.queueLoad(e,t,n);return r.toLoad.length?void(a.allowMultiLoading&&this.backend.readMulti?this.read(r.toLoadLanguages,r.toLoadNamespaces,'readMulti',null,null,function(e,t){e&&o.logger.warn('loading namespaces '+r.toLoadNamespaces.join(', ')+' for languages '+r.toLoadLanguages.join(', ')+' via multiloading failed',e),!e&&t&&o.logger.log('loaded namespaces '+r.toLoadNamespaces.join(', ')+' for languages '+r.toLoadLanguages.join(', ')+' via multiloading',t),r.toLoad.forEach(function(a){var r=a.split('|'),s=d(r,2),i=s[0],l=s[1],n=c.getPath(t,[i,l]);if(n)o.loaded(a,e,n);else{var p='loading namespace '+l+' for language '+i+' via multiloading failed';o.loaded(a,p),o.logger.error(p)}})}):function(){var e=function(e){var t=this,n=e.split('|'),o=d(n,2),a=o[0],r=o[1];this.read(a,r,'read',null,null,function(n,o){n&&t.logger.warn('loading namespace '+r+' for language '+a+' failed',n),!n&&o&&t.logger.log('loaded namespace '+r+' for language '+a,o),t.loaded(e,n,o)})};r.toLoad.forEach(function(t){e.call(o,t)})}()):void(r.pending.length||n())},t.prototype.reload=function(e,t){var o=this;this.backend||this.logger.warn('No backend was added via i18next.use. Will not load resources.');var n=p({},this.backend.options,this.options.backend);'string'==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),'string'==typeof t&&(t=[t]),n.allowMultiLoading&&this.backend.readMulti?this.read(e,t,'readMulti',null,null,function(a,r){a&&o.logger.warn('reloading namespaces '+t.join(', ')+' for languages '+e.join(', ')+' via multiloading failed',a),!a&&r&&o.logger.log('reloaded namespaces '+t.join(', ')+' for languages '+e.join(', ')+' via multiloading',r),e.forEach(function(e){t.forEach(function(t){var n=c.getPath(r,[e,t]);if(n)o.loaded(e+'|'+t,a,n);else{var s='reloading namespace '+t+' for language '+e+' via multiloading failed';o.loaded(e+'|'+t,s),o.logger.error(s)}})})}):function(){var a=function(e){var t=this,n=e.split('|'),o=d(n,2),a=o[0],r=o[1];this.read(a,r,'read',null,null,function(n,o){n&&t.logger.warn('reloading namespace '+r+' for language '+a+' failed',n),!n&&o&&t.logger.log('reloaded namespace '+r+' for language '+a,o),t.loaded(e,n,o)})};e.forEach(function(e){t.forEach(function(t){a.call(o,e+'|'+t)})})}()},t.prototype.saveMissing=function(e,t,n,o){this.backend&&this.backend.create&&this.backend.create(e,t,n,o),e&&e[0]&&this.store.addResource(e[0],t,n,o)},t}(m.default);t.default=h},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var a=n[o],r=Object.getOwnPropertyDescriptor(t,a);r&&r.configurable&&e[a]===void 0&&Object.defineProperty(e,a,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,'__esModule',{value:!0});var l=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p=n(2),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),u=n(0),c=o(u),g=n(1),f=o(g),y=function(e){function t(n,o,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};r(this,t);var l=s(this,e.call(this));return l.cache=n,l.store=o,l.services=a,l.options=i,l.logger=c.default.create('cacheConnector'),l.cache&&l.cache.init&&l.cache.init(a,i.cache,i),l}return i(t,e),t.prototype.load=function(e,t,o){var a=this;if(!this.cache)return o&&o();var n=l({},this.cache.options,this.options.cache);'string'==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),'string'==typeof t&&(t=[t]),n.enabled?this.cache.load(e,function(t,r){if(t&&a.logger.error('loading languages '+e.join(', ')+' from cache failed',t),r)for(var s in r)for(var i in r[s])if('i18nStamp'!=i){var n=r[s][i];n&&a.store.addResourceBundle(s,i,n)}o&&o()}):o&&o()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(f.default);t.default=y},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.get=function(){return{debug:!1,initImmediate:!0,ns:['translation'],defaultNS:['translation'],fallbackLng:['dev'],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:'all',preload:!1,keySeparator:'.',nsSeparator:':',pluralSeparator:'_',contextSeparator:'_',saveMissing:!1,saveMissingTo:'fallback',missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,overloadTranslationOptionHandler:function(e){return{defaultValue:e[1]}},interpolation:{escapeValue:!0,format:function(e){return e},prefix:'{{',suffix:'}}',formatSeparator:',',unescapePrefix:'-',nestingPrefix:'$t(',nestingSuffix:')',defaultVariables:void 0}}},t.transformOptions=function(e){return'string'==typeof e.ns&&(e.ns=[e.ns]),'string'==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),'string'==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&0>e.whitelist.indexOf('cimode')&&e.whitelist.push('cimode'),e}},function(e,t,n){e.exports=n(23).default},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol?'symbol':typeof e},a=n(24);t.default={name:'sprintf',type:'postProcessor',process:function(e,t,n){if(!n.sprintf)return e;return'[object Array]'===Object.prototype.toString.apply(n.sprintf)?(0,a.vsprintf)(e,n.sprintf):'object'===o(n.sprintf)?(0,a.sprintf)(e,n.sprintf):e},overloadTranslationOptionHandler:function(e){for(var t=[],n=1;n<e.length;n++)t.push(e[n]);return{postProcess:'sprintf',sprintf:t}}}},function(e,t){'use strict';function n(){var e=arguments[0],t=n.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=n.parse(e)),n.format.call(null,t[e],arguments)}function o(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function a(e,t){return Array(t+1).join(e)}Object.defineProperty(t,'__esModule',{value:!0}),t.sprintf=n,t.vsprintf=function(e,t,o){return o=(t||[]).slice(0),o.splice(0,0,e),n.apply(null,o)};var r={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};n.format=function(e,t){var s,l,i,p,d,u,c,g=1,f=e.length,y='',m=[],h=!0,b='';for(l=0;l<f;l++)if(y=o(e[l]),'string'===y)m[m.length]=e[l];else if('array'===y){if(p=e[l],p[2])for(s=t[g],i=0;i<p[2].length;i++){if(!s.hasOwnProperty(p[2][i]))throw new Error(n('[sprintf] property \'%s\' does not exist',p[2][i]));s=s[p[2][i]]}else s=p[1]?t[p[1]]:t[g++];if('function'==o(s)&&(s=s()),r.not_string.test(p[8])&&r.not_json.test(p[8])&&'number'!=o(s)&&isNaN(s))throw new TypeError(n('[sprintf] expecting number but found %s',o(s)));switch(r.number.test(p[8])&&(h=0<=s),p[8]){case'b':s=s.toString(2);break;case'c':s=String.fromCharCode(s);break;case'd':case'i':s=parseInt(s,10);break;case'j':s=JSON.stringify(s,null,p[6]?parseInt(p[6]):0);break;case'e':s=p[7]?s.toExponential(p[7]):s.toExponential();break;case'f':s=p[7]?parseFloat(s).toFixed(p[7]):parseFloat(s);break;case'g':s=p[7]?parseFloat(s).toPrecision(p[7]):parseFloat(s);break;case'o':s=s.toString(8);break;case's':s=(s+='')&&p[7]?s.substring(0,p[7]):s;break;case'u':s>>>=0;break;case'x':s=s.toString(16);break;case'X':s=s.toString(16).toUpperCase();}r.json.test(p[8])?m[m.length]=s:(r.number.test(p[8])&&(!h||p[3])?(b=h?'+':'-',s=s.toString().replace(r.sign,'')):b='',u=p[4]?'0'===p[4]?'0':p[4].charAt(1):' ',c=p[6]-(b+s).length,d=p[6]?0<c?a(u,c):'':'',m[m.length]=p[5]?b+s+d:'0'===u?b+d+s:d+b+s)}return m.join('')},n.cache={},n.parse=function(e){for(var t=e,n=[],o=[],a=0;t;){if(null!==(n=r.text.exec(t)))o[o.length]=n[0];else if(null!==(n=r.modulo.exec(t)))o[o.length]='%';else if(null!==(n=r.placeholder.exec(t))){if(n[2]){a|=1;var s=[],i=n[2],l=[];if(null!==(l=r.key.exec(i))){for(s[s.length]=l[1];''!==(i=i.substring(l[0].length));)if(null!==(l=r.key_access.exec(i)))s[s.length]=l[1];else if(null!==(l=r.index_access.exec(i)))s[s.length]=l[1];else throw new SyntaxError('[sprintf] failed to parse named argument key');}else throw new SyntaxError('[sprintf] failed to parse named argument key');n[2]=s}else a|=2;if(3==a)throw new Error('[sprintf] mixing positional and named placeholders is not (yet) supported');o[o.length]=n}else throw new SyntaxError('[sprintf] unexpected placeholder');t=t.substring(n[0].length)}return o}},function(e){e.exports=require('aws-sdk')},function(e,t,n){'use strict';function o(e){return e&&'SSML'===e.type?{type:e.type,ssml:e.speech}:{type:e.type||'PlainText',text:e.speech||e}}function a(e){var t={shouldEndSession:e.shouldEndSession};e.output&&(t.outputSpeech=o(e.output)),e.reprompt&&(t.reprompt={outputSpeech:o(e.reprompt)}),e.directives&&(t.directives=e.directives),e.cardTitle&&e.cardContent?(t.card={type:'Simple',title:e.cardTitle,content:e.cardContent},e.cardImage&&(e.cardImage.smallImageUrl||e.cardImage.largeImageUrl)&&(t.card.type='Standard',t.card.image={},delete t.card.content,t.card.text=e.cardContent,e.cardImage.smallImageUrl&&(t.card.image.smallImageUrl=e.cardImage.smallImageUrl),e.cardImage.largeImageUrl&&(t.card.image.largeImageUrl=e.cardImage.largeImageUrl))):'LinkAccount'===e.cardType?t.card={type:'LinkAccount'}:'AskForPermissionsConsent'===e.cardType&&(t.card={type:'AskForPermissionsConsent',permissions:e.permissions});var n={version:'1.0',response:t};return e.sessionAttributes&&(n.sessionAttributes=e.sessionAttributes),n}function r(e){return null==e?null:{type:'SSML',speech:`<speak> ${e} </speak>`}}function s(e,t,n){let o={type:e};return'Dialog.ElicitSlot'===e?o.slotToElicit=n:'Dialog.ConfirmSlot'===e&&(o.slotToConfirm=n),t&&(o.updatedIntent=t),[o]}var i=n(5);e.exports=function(){return{":tell":function(e){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(e),shouldEndSession:!0}),this.emit(':responseReady'))},":ask":function(e,t){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(e),reprompt:r(t),shouldEndSession:!1}),this.emit(':responseReady'))},":askWithCard":function(e,t,n,o,s){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(e),reprompt:r(t),cardTitle:n,cardContent:o,cardImage:s,shouldEndSession:!1}),this.emit(':responseReady'))},":tellWithCard":function(e,t,n,o){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(e),cardTitle:t,cardContent:n,cardImage:o,shouldEndSession:!0}),this.emit(':responseReady'))},":tellWithLinkAccountCard":function(e){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(e),cardType:'LinkAccount',shouldEndSession:!0}),this.emit(':responseReady'))},":askWithLinkAccountCard":function(e,t){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(e),reprompt:r(t),cardType:'LinkAccount',shouldEndSession:!1}),this.emit(':responseReady'))},":tellWithPermissionCard":function(e,t){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(e),permissions:t,cardType:'AskForPermissionsConsent',shouldEndSession:!0}),this.emit(':responseReady'))},":delegate":function(e){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,directives:s('Dialog.Delegate',e,null),shouldEndSession:!1}),this.emit(':responseReady'))},":elicitSlot":function(e,t,n,o){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(t),reprompt:r(n),directives:s('Dialog.ElicitSlot',o,e),shouldEndSession:!1}),this.emit(':responseReady'))},":elicitSlotWithCard":function(e,t,n,o,i,l,p){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(t),reprompt:r(n),cardTitle:o,cardContent:i,cardImage:p,directives:s('Dialog.ElicitSlot',l,e),shouldEndSession:!1}),this.emit(':responseReady'))},":confirmSlot":function(e,t,n,o){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(t),reprompt:r(n),directives:s('Dialog.ConfirmSlot',o,e),shouldEndSession:!1}),this.emit(':responseReady'))},":confirmSlotWithCard":function(e,t,n,o,i,l,p){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(t),reprompt:r(n),cardTitle:o,cardContent:i,cardImage:p,directives:s('Dialog.ConfirmSlot',l,e),shouldEndSession:!1}),this.emit(':responseReady'))},":confirmIntent":function(e,t,n){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(e),reprompt:r(t),directives:s('Dialog.ConfirmIntent',n,null),shouldEndSession:!1}),this.emit(':responseReady'))},":confirmIntentWithCard":function(e,t,n,o,i,l){this.isOverridden()||(this.handler.response=a({sessionAttributes:this.attributes,output:r(e),reprompt:r(t),cardTitle:n,cardContent:o,cardImage:l,directives:s('Dialog.ConfirmIntent',i,null),shouldEndSession:!1}),this.emit(':responseReady'))},":responseReady":function(){this.isOverridden()||(this.handler.state&&(this.handler.response.sessionAttributes.STATE=this.handler.state),this.handler.dynamoDBTableName&&this.emit(':saveState'),'undefined'==typeof this.callback?this.context.succeed(this.handler.response):this.callback(null,this.handler.response))},":saveState":function(e){if(!this.isOverridden()){e&&this.handler.state&&(this.attributes.STATE=this.handler.state);var t='';this.event.context?t=this.event.context.System.user.userId:this.event.session&&(t=this.event.session.user.userId),(this.handler.saveBeforeResponse||e||this.handler.response.response.shouldEndSession)&&i.set(this.handler.dynamoDBTableName,t,this.attributes,(e)=>{if(e)return this.emit(':saveStateError',e)})}},":saveStateError":function(e){this.isOverridden()||(console.log(`Error saving state: ${e}\n${e.stack}`),'undefined'==typeof this.callback?this.context.fail(e):this.callback(e))}}}()}]));
//# sourceMappingURL=dist.js.map